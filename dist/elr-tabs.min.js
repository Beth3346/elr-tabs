!function($){window.elrTabs=function(params){var self={},spec=params||{},holderClass=spec.holder||"elr-tabs",activeClass=spec.activeClass||"active",speed=spec.speed||300,$holders=$("."+holderClass),getTarget=function(){return $(this).attr("href")},updateHash=function(target){window.location.hash=target},setActive=function(activeClass,$nav,currentId,target){$nav.find("a[href="+currentId+"]").removeClass(activeClass),$nav.find('a[href="'+target+'"]').addClass(activeClass)},changeTab=function($holder,target,speed){var $tab=$holder.find("section"+target),$currentTab=$holder.find("section").not(":hidden"),currentId="#"+$currentTab.attr("id");return $currentTab.fadeOut(speed,function(){$tab.fadeIn(speed)}),currentId},setupTabs=function($containers,activeClass){var hash=window.location.hash;$.each($containers,function(){var $that=$(this),$tabs=$that.find("section"),hashTab=$that.find("nav").find('a[href="'+hash+'"]');$tabs.hide(),hashTab.length?($that.find("section"+hash).show(),$that.find("nav").find('a[href="'+hash+'"]').addClass(activeClass)):($that.find("nav").find('a[href^="#"]').first().addClass(activeClass),$tabs.first().show())})};return $holders.length&&(setupTabs($holders,activeClass),$holders.on("click",'nav a[href^="#"]',function(e){var $that=$(this),$parent=$that.closest("."+holderClass),target=getTarget.call(this),currentId=changeTab($parent,target,speed);setActive(activeClass,$parent.find("nav"),currentId,target),updateHash(target),e.preventDefault()})),self}}(jQuery);